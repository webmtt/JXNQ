(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2366"],{"7e79":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-tabs",{staticStyle:{height:"100%"},attrs:{type:"border-card"}},[r("el-button",{staticStyle:{background:"transparent",margin:"0 0 10px 0",float:"right"},attrs:{size:"small"},on:{click:e.editUserInfo}},[e._v("编辑")]),e._v(" "),r("el-tab-pane",{attrs:{label:"基本信息"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(56, 61, 65, 0.8)",data:e.tableData,stripe:"",border:"","show-header":!1}},[r("el-table-column",{attrs:{prop:"key",label:"日期",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"value",label:"姓名"}})],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"基本信息编辑",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.userModel?r("el-form",{ref:"ruleForm",attrs:{model:e.userModel,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"姓名：",prop:"user_name"}},[r("el-input",{attrs:{size:"small"},model:{value:e.userModel.user_name,callback:function(t){e.$set(e.userModel,"user_name",t)},expression:"userModel.user_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别：",prop:"gender"}},[r("el-radio-group",{model:{value:e.userModel.gender,callback:function(t){e.$set(e.userModel,"gender",t)},expression:"userModel.gender"}},[r("el-radio",{attrs:{size:"small",label:"男"}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{size:"small",label:"女"}},[e._v("女")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号：",prop:"phone_number"}},[r("el-input",{attrs:{size:"small"},model:{value:e.userModel.phone_number,callback:function(t){e.$set(e.userModel,"phone_number",t)},expression:"userModel.phone_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"单位名称：",prop:"organization"}},[r("el-input",{attrs:{size:"small"},model:{value:e.userModel.organization,callback:function(t){e.$set(e.userModel,"organization",t)},expression:"userModel.organization"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"单位地址：",prop:"address"}},[r("el-input",{attrs:{size:"small"},model:{value:e.userModel.address,callback:function(t){e.$set(e.userModel,"address",t)},expression:"userModel.address"}})],1)],1):e._e(),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},l=[],a=(r("6d57"),r("e10e"),r("c24f")),n=r("5f87"),o={data:function(){return{listLoading:!1,dialogVisible:!1,userModel:null,originUserModel:{user_id:null,user_name:null,gender:"男",phone_number:null,address:null,organization:null},rules:{user_name:[{required:!0,message:"姓名为必填项",trigger:"blur"},{min:3,max:12,message:"长度在 3 到 12 个字符",trigger:"blur"}],gender:[{required:!0,message:"性别为必填项",trigger:"change"}],phone_number:[{required:!0,message:"手机号为必填项",trigger:"change"}],organization:[{required:!0,message:"公司名称为必填项",trigger:"change"}],address:[{required:!0,message:"公司地址为必填项",trigger:"change"}]},tableData:[],dataMap:{user_name:"姓名：",gender:"性别：",phone_number:"手机号：",address:"地址：",organization:"单位地址："}}},methods:{getUserInfo:function(e){var t=this;this.listLoading=!0,Object(a["i"])({user_id:e}).then((function(e){t.userModel=t.setUserModel(e.data[0]),t.tableData=Object.keys(t.userModel).filter((function(e){return"user_id"!=e})).map((function(e){return{key:t.dataMap[e],value:t.userModel[e]}}))})).catch((function(e){})).finally((function(e){return t.listLoading=!1}))},editUserInfo:function(){this.dialogVisible=!0},setUserModel:function(e){var t={};return Object.keys(this.originUserModel).forEach((function(r){return t[r]=e[r]})),t},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object(a["c"])(t.userModel).then((function(e){t.$message({type:"success",message:"编辑用户成功!"}),t.$store.dispatch("user/getInfo").then((function(e){t.userModel=t.setUserModel(e),t.tableData=Object.keys(t.userModel).filter((function(e){return"user_id"!=e})).map((function(e){return{key:t.dataMap[e],value:t.userModel[e]}}))}))})).catch((function(e){return t.$message({type:"error",message:"编辑用户失败!"})})).finally((function(e){return t.dialogVisible=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()},handleClose:function(e){this.resetForm("ruleForm"),e()}},mounted:function(){this.getUserInfo(n["b"]())}},i=o,u=r("4023"),d=Object(u["a"])(i,s,l,!1,null,"45121df0",null);t["default"]=d.exports}}]);