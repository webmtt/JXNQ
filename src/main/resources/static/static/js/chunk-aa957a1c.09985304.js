(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa957a1c"],{"1e5b":function(e,t,o){var a=o("fb68"),n=o("859b").set;e.exports=function(e,t,o){var i,r=t.constructor;return r!==o&&"function"==typeof r&&(i=r.prototype)!==o.prototype&&a(i)&&n&&n(e,i),e}},"2aa3":function(e,t,o){"use strict";var a=o("6179"),n=o("5a88"),i="Set";e.exports=o("fea3")(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return a.def(n(this,i),e=0===e?0:e,e)}},a)},"5a88":function(e,t,o){var a=o("fb68");e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},"5c1c":function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return i}));var a="http://10.136.5.68:20002/api/pie-cloud/layerData/layerTemplates?key=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpbmZvIjoie1widXNlcklkXCI6XCIxXCIsXCJrZXlcIjpcIjE0ZTIxMmRlYWRlZGE0NjU0NGQzMmExODdiMTE2ODkxXCJ9In0.MX897rlEz448Nea2K-W-X4vHqIxDnAm16Wds6l27BYw&id=",n={landManage:{scenceUrl:a+"2c92808c71bafa7a01720c0fc70f00e6",scenceName:"landManage",checkType:"checkBox"},growManage:{scenceUrl:a+"2c92808c71bafa7a01720c456bda00f4",scenceName:"growManage",checkType:"checkBox"},vegetationManage:{scenceUrl:a+"2c92808c71bafa7a01720c461f7200f6",scenceName:"vegetationManage",checkType:"checkBox"},meteorologicalService:{scenceUrl:a+"2c92808c71bafa7a01720c46dc7300f8",scenceName:"meteorologicalService",checkType:"checkBox"}},i={image:a+"2c92808c71bafa7a01720c4bb44500fb",street:a+"2c92808c71bafa7a01720c4d303900fd"}},6179:function(e,t,o){"use strict";var a=o("064e").f,n=o("e005"),i=o("ef91"),r=o("4ce5"),c=o("a73b"),d=o("206c"),s=o("492d"),l=o("475d"),u=o("1157"),p=o("149f"),f=o("f71f").fastKey,v=o("5a88"),C=p?"_s":"size",y=function(e,t){var o,a=f(t);if("F"!==a)return e._i[a];for(o=e._f;o;o=o.n)if(o.k==t)return o};e.exports={getConstructor:function(e,t,o,s){var l=e((function(e,a){c(e,l,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[C]=0,void 0!=a&&d(a,o,e[s],e)}));return i(l.prototype,{clear:function(){for(var e=v(this,t),o=e._i,a=e._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete o[a.i];e._f=e._l=void 0,e[C]=0},delete:function(e){var o=v(this,t),a=y(o,e);if(a){var n=a.n,i=a.p;delete o._i[a.i],a.r=!0,i&&(i.n=n),n&&(n.p=i),o._f==a&&(o._f=n),o._l==a&&(o._l=i),o[C]--}return!!a},forEach:function(e){v(this,t);var o,a=r(e,arguments.length>1?arguments[1]:void 0,3);while(o=o?o.n:this._f){a(o.v,o.k,this);while(o&&o.r)o=o.p}},has:function(e){return!!y(v(this,t),e)}}),p&&a(l.prototype,"size",{get:function(){return v(this,t)[C]}}),l},def:function(e,t,o){var a,n,i=y(e,t);return i?i.v=o:(e._l=i={i:n=f(t,!0),k:t,v:o,p:a=e._l,n:void 0,r:!1},e._f||(e._f=i),a&&(a.n=i),e[C]++,"F"!==n&&(e._i[n]=i)),e},getEntry:y,setStrong:function(e,t,o){s(e,t,(function(e,o){this._t=v(e,t),this._k=o,this._l=void 0}),(function(){var e=this,t=e._k,o=e._l;while(o&&o.r)o=o.p;return e._t&&(e._l=o=o?o.n:e._t._f)?l(0,"keys"==t?o.k:"values"==t?o.v:[o.k,o.v]):(e._t=void 0,l(1))}),o?"entries":"values",!o,!0),u(t)}}},"859b":function(e,t,o){var a=o("fb68"),n=o("69b3"),i=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=o("4ce5")(Function.call,o("dcb7").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,o){return i(e,o),t?e.__proto__=o:a(e,o),e}}({},!1):void 0),check:i}},"9dd9":function(e,t,o){var a=o("e7ad"),n=o("1e5b"),i=o("064e").f,r=o("2ea2").f,c=o("2fd4"),d=o("f1fe"),s=a.RegExp,l=s,u=s.prototype,p=/a/g,f=/a/g,v=new s(p)!==p;if(o("149f")&&(!v||o("238a")((function(){return f[o("cb3d")("match")]=!1,s(p)!=p||s(f)==f||"/a/i"!=s(p,"i")})))){s=function(e,t){var o=this instanceof s,a=c(e),i=void 0===t;return!o&&a&&e.constructor===s&&i?e:n(v?new l(a&&!i?e.source:e,t):l((a=e instanceof s)?e.source:e,a&&i?d.call(e):t),o?this:u,s)};for(var C=function(e){e in s||i(s,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},y=r(l),m=0;y.length>m;)C(y[m++]);u.constructor=s,s.prototype=u,o("bf16")(a,"RegExp",s)}o("1157")("RegExp")},ae27:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return r}));var a=[{code:"3304",name:"嘉兴市",provinceCode:"33",ename:""}],n=[{code:"330402",name:"南湖区",cityCode:"3304",provinceCode:"33",ename:"NH"},{code:"330411",name:"秀洲区",cityCode:"3304",provinceCode:"33",ename:"XZ"},{code:"330421",name:"嘉善县",cityCode:"3304",provinceCode:"33",ename:"JS"},{code:"330424",name:"海盐县",cityCode:"3304",provinceCode:"33",ename:"HY"},{code:"330481",name:"海宁市",cityCode:"3304",provinceCode:"33",ename:"HN"},{code:"330482",name:"平湖市",cityCode:"3304",provinceCode:"33",ename:"PH"},{code:"330483",name:"桐乡市",cityCode:"3304",provinceCode:"33",ename:"TX"}],i=[{code:"330402007",name:"建设街道",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402008",name:"解放街道",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402009",name:"新嘉街道",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402010",name:"南湖街道",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402011",name:"新兴街道",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402012",name:"城南街道",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402013",name:"东栅街道",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402014",name:"长水街道",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402015",name:"七星街道",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402100",name:"凤桥镇",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402101",name:"余新镇",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402103",name:"新丰镇",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330402105",name:"大桥镇",areaCode:"330402",cityCode:"3304",provinceCode:"33"},{code:"330411002",name:"新城街道",areaCode:"330411",cityCode:"3304",provinceCode:"33"},{code:"330411003",name:"嘉北街道",areaCode:"330411",cityCode:"3304",provinceCode:"33"},{code:"330411004",name:"塘汇街道",areaCode:"330411",cityCode:"3304",provinceCode:"33"},{code:"330411005",name:"高照街道",areaCode:"330411",cityCode:"3304",provinceCode:"33"},{code:"330411101",name:"王江泾镇",areaCode:"330411",cityCode:"3304",provinceCode:"33"},{code:"330411103",name:"油车港镇",areaCode:"330411",cityCode:"3304",provinceCode:"33"},{code:"330411104",name:"新塍镇",areaCode:"330411",cityCode:"3304",provinceCode:"33"},{code:"330411105",name:"王店镇",areaCode:"330411",cityCode:"3304",provinceCode:"33"},{code:"330411106",name:"洪合镇",areaCode:"330411",cityCode:"3304",provinceCode:"33"},{code:"330421001",name:"魏塘街道",areaCode:"330421",cityCode:"3304",provinceCode:"33"},{code:"330421002",name:"罗星街道",areaCode:"330421",cityCode:"3304",provinceCode:"33"},{code:"330421003",name:"惠民街道",areaCode:"330421",cityCode:"3304",provinceCode:"33"},{code:"330421102",name:"大云镇",areaCode:"330421",cityCode:"3304",provinceCode:"33"},{code:"330421103",name:"西塘镇",areaCode:"330421",cityCode:"3304",provinceCode:"33"},{code:"330421105",name:"干窑镇",areaCode:"330421",cityCode:"3304",provinceCode:"33"},{code:"330421107",name:"陶庄镇",areaCode:"330421",cityCode:"3304",provinceCode:"33"},{code:"330421111",name:"姚庄镇",areaCode:"330421",cityCode:"3304",provinceCode:"33"},{code:"330421112",name:"天凝镇",areaCode:"330421",cityCode:"3304",provinceCode:"33"},{code:"330424001",name:"武原街道",areaCode:"330424",cityCode:"3304",provinceCode:"33"},{code:"330424002",name:"西塘桥街道",areaCode:"330424",cityCode:"3304",provinceCode:"33"},{code:"330424004",name:"秦山街道",areaCode:"330424",cityCode:"3304",provinceCode:"33"},{code:"330424005",name:"望海街道",areaCode:"330424",cityCode:"3304",provinceCode:"33"},{code:"330424101",name:"沈荡镇",areaCode:"330424",cityCode:"3304",provinceCode:"33"},{code:"330424102",name:"百步镇",areaCode:"330424",cityCode:"3304",provinceCode:"33"},{code:"330424103",name:"于城镇",areaCode:"330424",cityCode:"3304",provinceCode:"33"},{code:"330424105",name:"澉浦镇",areaCode:"330424",cityCode:"3304",provinceCode:"33"},{code:"330424106",name:"通元镇",areaCode:"330424",cityCode:"3304",provinceCode:"33"},{code:"330481001",name:"硖石街道",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481002",name:"海洲街道",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481003",name:"海昌街道",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481004",name:"马桥街道",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481101",name:"许村镇",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481103",name:"长安镇",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481105",name:"周王庙镇",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481106",name:"丁桥镇",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481107",name:"斜桥镇",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481108",name:"黄湾镇",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481110",name:"盐官镇",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330481112",name:"袁花镇",areaCode:"330481",cityCode:"3304",provinceCode:"33"},{code:"330482001",name:"当湖街道",areaCode:"330482",cityCode:"3304",provinceCode:"33"},{code:"330482002",name:"钟埭街道",areaCode:"330482",cityCode:"3304",provinceCode:"33"},{code:"330482003",name:"曹桥街道",areaCode:"330482",cityCode:"3304",provinceCode:"33"},{code:"330482101",name:"乍浦镇",areaCode:"330482",cityCode:"3304",provinceCode:"33"},{code:"330482102",name:"新埭镇",areaCode:"330482",cityCode:"3304",provinceCode:"33"},{code:"330482103",name:"新仓镇",areaCode:"330482",cityCode:"3304",provinceCode:"33"},{code:"330482106",name:"广陈镇",areaCode:"330482",cityCode:"3304",provinceCode:"33"},{code:"330482107",name:"林埭镇",areaCode:"330482",cityCode:"3304",provinceCode:"33"},{code:"330482108",name:"独山港镇",areaCode:"330482",cityCode:"3304",provinceCode:"33"},{code:"330483001",name:"梧桐街道",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483003",name:"凤鸣街道",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483004",name:"高桥街道",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483100",name:"乌镇镇",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483101",name:"濮院镇",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483102",name:"屠甸镇",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483103",name:"石门镇",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483104",name:"河山镇",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483105",name:"洲泉镇",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483106",name:"大麻镇",areaCode:"330483",cityCode:"3304",provinceCode:"33"},{code:"330483107",name:"崇福镇",areaCode:"330483",cityCode:"3304",provinceCode:"33"}],r=["晴","多云","阴","阵雨","雷阵雨","雷阵雨并伴有冰雹","雨夹雪","小雨","中雨","大雨","暴雨","大暴雨","特大暴雨","阵雪","小雪","中雪","大雪","暴雪","雾","冻雨","沙尘暴","小到中雨","中到大雨","大到暴雨","大暴雨到特大暴雨","小到中雪","中到大雪","大到暴雪","浮尘","扬沙","强沙尘暴"]},c9bc:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container monitor",staticStyle:{display:"flex","flex-direction":"column"}},[o("el-button-group",{staticClass:"classTab"},[o("el-button",{attrs:{type:"primary",size:"small"}},[o("router-link",{attrs:{to:"/landManage"}},[e._v("田地管理")])],1),e._v(" "),o("el-button",{attrs:{type:"default",size:"small"}},[o("router-link",{attrs:{to:"/growManage"}},[e._v("长势管理")])],1),e._v(" "),o("el-button",{attrs:{type:"default",size:"small"}},[o("router-link",{attrs:{to:"/vegetationManage"}},[e._v("植被管理")])],1),e._v(" "),o("el-button",{attrs:{type:"default",size:"small"}},[o("router-link",{attrs:{to:"/meteorologicalService"}},[e._v("气象服务")])],1)],1),e._v(" "),o("div",{staticClass:"filterPart",staticStyle:{display:"flex"}},[o("el-select",{staticStyle:{margin:"0 10px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.conditionModel.cityValue,callback:function(t){e.$set(e.conditionModel,"cityValue",t)},expression:"conditionModel.cityValue"}},e._l(e.cityOptions,(function(e){return o("el-option",{key:e.code,attrs:{label:e.name,value:e.ename}})})),1),e._v(" "),o("el-select",{staticStyle:{margin:"0 10px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.conditionModel.cropValue,callback:function(t){e.$set(e.conditionModel,"cropValue",t)},expression:"conditionModel.cropValue"}},e._l(e.cropOptions,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),o("el-select",{staticStyle:{margin:"0 10px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.conditionModel.timeValue,callback:function(t){e.$set(e.conditionModel,"timeValue",t)},expression:"conditionModel.timeValue"}},e._l(e.timeOptions,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),o("div",{staticClass:"contentWrap"},[o("div",{staticClass:"showContent"},[e._m(0),e._v(" "),o("div",{ref:"percent",staticClass:"contentGraph"})]),e._v(" "),o("div",{staticClass:"showContent"},[e._m(1),e._v(" "),o("div",{ref:"areaStatics",staticClass:"contentGraph"})]),e._v(" "),o("div",{staticClass:"showContent"},[e._m(2),e._v(" "),o("div",{ref:"areaChange",staticClass:"contentGraph"})])])],1)},n=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"contentTitle"},[o("span",[e._v("作物面积占比")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"contentTitle"},[o("span",[e._v("作物面积统计图")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"contentTitle"},[o("span",[e._v("作物种植面积变化")])])}],i=(o("5ab2"),o("2aa3"),o("06a2"),o("ec25"),o("e10e"),o("cc57"),o("de78"),o("6d57"),o("9dd9"),o("9a33"),o("88d6")),r=o("52c1"),c=o("b45c"),d=o.n(c),s=o("5c1c"),l=o("ae27"),u=o("829b");function p(e){return Object(u["a"])({url:"/landManage/query",method:"get",params:e})}function f(e){return Object(u["a"])({url:"/landManage/getCropByDistrict",method:"get",params:e})}function v(e){return Object(u["a"])({url:"/landManage/cropLineChart",method:"get",params:e})}var C={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},color:["#ff88d4","#8fafff","#85d4fc","#50de6a","#ffe862","#ffad88","#ff8181"].reverse(),series:[{name:"作物面积占比：",type:"pie",radius:["60%","85%"],avoidLabelOverlap:!0,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,formatter:["{city|{b}}","{number|{c}}","{unit|(万亩)}"].join("\n"),rich:{city:{fontSize:12},number:{fontSize:22,fontWeight:"bold",height:40},unit:{fontSize:12}},textStyle:{color:"#fff"}}},labelLine:{normal:{show:!1}},itemStyle:{borderWidth:2,borderColor:"#383d41"},data:[{value:999,name:"南湖区"},{value:310,name:"秀洲区"},{value:234,name:"嘉善县"},{value:135,name:"海盐县"},{value:335,name:"海宁市"},{value:135,name:"平湖市"},{value:335,name:"桐乡市"}]}]},y={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#ff8763","#a2f774","#62f3dd"],legend:{right:0,icon:"circle",itemWidth:7,data:["水稻","油菜","小麦"],textStyle:{color:"#fff"}},textStyle:{color:"#fff"},grid:{left:"0%",right:0,bottom:"5%",top:"10%",containLabel:!0},xAxis:{type:"category",axisLine:{lineStyle:{color:"#fff"}},splitLine:{show:!1},axisLabel:{interval:0}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#fff"}},splitLine:{show:!1}},dataset:{source:{}},series:[{type:"bar",stack:"总量",barWidth:14,itemStyle:{borderColor:"#383d41",borderWidth:2}},{type:"bar",stack:"总量",itemStyle:{borderColor:"#383d41",borderWidth:2}},{type:"bar",stack:"总量",itemStyle:{borderColor:"#383d41",borderWidth:2}}]},m={tooltip:{trigger:"axis"},color:["#ff8763","#a2f774","#62f3dd"],legend:{right:0,top:5,icon:"circle",itemWidth:7,data:["水稻","油菜","小麦"],textStyle:{color:"#fff"}},textStyle:{color:"#fff"},grid:{left:"0%",right:"5%",bottom:"0%",top:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#fff"}},splitLine:{show:!0,lineStyle:{type:"solid",color:"#666"}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#fff"}},splitLine:{show:!1}},dataset:{source:{}},series:[{type:"line",lineStyle:{width:1}},{type:"line",lineStyle:{width:1}},{type:"line",lineStyle:{width:1}}]},h=o("24ce"),b=o.n(h);function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function _(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){Object(i["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var x={data:function(){return{count:0,highLightFeatureId:null,timer:null,changeTimes:0,activeIndex:0,snapPopup:null,areaData:null,hoveredStateId:"",conditionModel:{cityValue:"",timeValue:null,cropValue:null},cityOptions:l["b"].concat(l["a"]),timeOptions:[],cropOptions:[]}},computed:_(_({},Object(r["c"])("map",["lengendLayers"])),Object(r["c"])("app",["sysMap"])),watch:{conditionModel:{handler:function(e,t){this.conditionModel.cropValue&&(this.initPieCharts(),this.initBarCharts(),this.initLineBars(),this.$store.dispatch("map/changeActiveLayers",{key:"showLayers",value:this.getShowLayers()}),this.$store.dispatch("map/changeLengendLayers",{key:"lengendLayers",value:this.conditionModel.cropValue.split(",")}))},deep:!0,immediate:!0},lengendLayers:function(e){3===e.length?this.conditionModel.cropValue="水稻,油菜,小麦":this.conditionModel.cropValue=e[0]},sysMap:{handler:function(e,t){e&&!t&&this.bindShowSnapShortOnMouseMove()},immediate:!0}},methods:{getShowLayers:function(){var e=this,t=this.bussinessLayers.filter((function(t){var o=e.conditionModel.cropValue.split(","),a=o.length>1?new RegExp("".concat(o.join("|"))):new RegExp(o[0]);return a.test(t.id)})),o=t.filter((function(t){return new RegExp("".concat(e.conditionModel.timeValue)).test(t.id)})).map((function(e){return e.id}));return o},activeDefaultAreaGraph:function(e){var t=this;e.dispatchAction({type:"highlight",dataIndex:this.activeIndex}),e.on("mouseover",(function(o){o.dataIndex!==t.activeIndex&&(e.dispatchAction({type:"downplay",dataIndex:t.activeIndex}),t.activeIndex=o.dataIndex)})),e.on("mouseout",(function(t){return e.dispatchAction({type:"highlight",dataIndex:t.dataIndex})}))},getCropName:function(e){var t={rape:"油菜",wheat:"小麦",rice:"水稻"},o=this.conditionModel.cityValue?"cropBreeds":"district";return"cropBreeds"===o?t[e]:e.split("-")[1]},getData:function(){var e=this,t=this.conditionModel.cropValue.split(",").length>1?"":this.conditionModel.cropValue.split()[0],o={district:this.conditionModel.cityValue,year:this.conditionModel.timeValue,cropBreeds:t},a=this.conditionModel.cityValue?"cropBreeds":"district";return p(o).then((function(t){var o={};return t.data.forEach((function(t){o[t[a]]||(o[t[a]]={value:t.cultivationArea,name:e.getCropName(t[a])}),o[t[a]].value+=t.cultivationArea})),{originData:t.data,transformData:Object.values(o).map((function(e){return e.value=parseFloat(e.value.toFixed(2)),e}))}}))},initPieCharts:function(){var e=this;if(1!=this.conditionModel.cropValue.split(",").length){this.changeTimes++;var t=b.a.init(this.$refs.percent);this.getData().then((function(o){C.series[0].data=o.transformData,t.setOption(C),e.activeDefaultAreaGraph(t)}))}},initBarCharts:function(e){if(1!=this.conditionModel.cropValue.split(",").length&&!this.conditionModel.cityValue){var t=b.a.init(this.$refs.areaStatics),o={rape:"油菜",wheat:"小麦",rice:"水稻"},a={};this.getData().then((function(e){e.originData.forEach((function(e){a[o[e["cropBreeds"]]]||(a[o[e["cropBreeds"]]]=[]),a[o[e["cropBreeds"]]].push({value:e.cultivationArea,name:e["district"].split("-")[1]})}));var n={"地区":a["水稻"].map((function(e){return e.name})),"水稻":a["水稻"].map((function(e){return e.value})),"油菜":a["油菜"].map((function(e){return e.value})),"小麦":a["小麦"].map((function(e){return e.value}))};y.dataset.source=n,t.setOption(y)}))}},initLineBars:function(){var e={district:this.conditionModel.cityValue},t=b.a.init(this.$refs.areaChange);v(e).then((function(e){var o={"时间":Object.values(e.data.filter((function(e){return"year"===Object.keys(e)[0]}))[0])[0],"水稻":Object.values(e.data.filter((function(e){return"rice"===Object.keys(e)[0]}))[0])[0],"油菜":Object.values(e.data.filter((function(e){return"rape"===Object.keys(e)[0]}))[0])[0],"小麦":Object.values(e.data.filter((function(e){return"wheat"===Object.keys(e)[0]}))[0])[0]};m.dataset.source=o,t.setOption(m)}))},transformName:function(e){var t=[{name:"南湖区",ename:"NH"},{name:"秀洲区",ename:"XZ"},{name:"嘉善县",ename:"JS"},{name:"海盐县",ename:"HY"},{name:"海宁市",ename:"HN"},{name:"平湖市",ename:"PH"},{name:"桐乡市",ename:"TX"}];return t.filter((function(t){return t.name===e}))[0].ename},showInfo:function(e){var t=this;if(this.snapPopup&&this.snapPopup.remove(),e.features&&e.features.length){var o=e.features[0].properties,a=[e.lngLat.lng,e.lngLat.lat];this.getAreaData(o).then((function(e){var o="<div>",n=[{title:"区域名称",value:t.areaData.NAME},{title:"作物总面积",value:(t.areaData.wheats+t.areaData.rapes+t.areaData.rices).toFixed(3)+"万亩"},{title:"小麦总面积",value:t.areaData.wheats+"万亩"},{title:"油菜总面积",value:t.areaData.rapes+"万亩"},{title:"水稻总面积",value:t.areaData.rices+"万亩"}];n.forEach((function(e){o+='<div style="display: flex;padding: 2px 5px"><div style="width: 70px;font-weight: bold">'.concat(e.title,': </div><div style="flex: 1">').concat(e.value,"</div></div>")})),o+="</div>",t.snapPopup.setLngLat(a).setHTML(o).addTo(t.sysMap)}))}},getAreaData:function(e){var t=this,o={district:this.transformName(e.NAME),year:this.conditionModel.timeValue};return f(o).then((function(o){return t.areaData=Object.assign({},o.data,e)}))},moveCallback:function(e){this.sysMap.getCanvas().style.cursor="pointer"},leaveCallBack:function(){this.sysMap.getCanvas().style.cursor=""},bindShowSnapShortOnMouseMove:function(){this.sysMap.on("mousemove","嘉兴市县界_fill",this.moveCallback),this.sysMap.on("mouseleave","嘉兴市县界_fill",this.leaveCallBack),this.sysMap.on("click","嘉兴市县界_fill",this.showInfo)}},mounted:function(){var e=this;this.$store.dispatch("map/changePlayLayers",{key:"playLayers",value:[]}),fetch(s["b"][this.$route.path.slice(1)].scenceUrl).then((function(e){return e.json()})).then((function(t){e.bussinessLayers=t.layers.filter((function(e){return["水稻","油菜","小麦"].indexOf(e.id.split("_")[0])>-1})),e.timeOptions=Array.from(new Set(e.bussinessLayers.map((function(e){return e.id.split("_")[1]})))).map((function(e){return{value:e,label:e}}));var o=Array.from(new Set(e.bussinessLayers.map((function(e){return e.id.split("_")[0]}))));e.cropOptions=o.map((function(e){return{value:e,label:e}})),e.cropOptions.length>1&&e.cropOptions.unshift({value:"水稻,油菜,小麦",label:"全部作物"}),e.conditionModel.cropValue=e.cropOptions[0].value,e.conditionModel.timeValue=e.timeOptions[0].value,e.$store.dispatch("map/changeBusinessLayers",{key:"businessLayers",value:e.bussinessLayers.map((function(e){return e.id}))}),e.$store.dispatch("map/changePlayYears",{key:"playerYears",value:[]})})),this.snapPopup=new d.a.Popup({closeButton:!0,closeOnClick:!1})},destroyed:function(){this.snapPopup&&this.snapPopup.remove(),this.sysMap.off("mousemove","嘉兴市县界_fill",this.moveCallback),this.sysMap.off("mouseleave","嘉兴市县界_fill",this.leaveCallBack),this.sysMap.off("click","嘉兴市县界_fill",this.showInfo)}},w=x,O=(o("d7f2"),o("4023")),M=Object(O["a"])(w,a,n,!1,null,"253caa4b",null);t["default"]=M.exports},d2be:function(e,t,o){},d7f2:function(e,t,o){"use strict";var a=o("d2be"),n=o.n(a);n.a},de78:function(e,t,o){var a=o("e46b"),n=o("4c9f")(!1);a(a.S,"Object",{values:function(e){return n(e)}})},ec25:function(e,t,o){"use strict";var a=o("4ce5"),n=o("e46b"),i=o("008a"),r=o("d0bc"),c=o("2285"),d=o("eafa"),s=o("ebc3"),l=o("f878");n(n.S+n.F*!o("d0c5")((function(e){Array.from(e)})),"Array",{from:function(e){var t,o,n,u,p=i(e),f="function"==typeof this?this:Array,v=arguments.length,C=v>1?arguments[1]:void 0,y=void 0!==C,m=0,h=l(p);if(y&&(C=a(C,v>2?arguments[2]:void 0,2)),void 0==h||f==Array&&c(h))for(t=d(p.length),o=new f(t);t>m;m++)s(o,m,y?C(p[m],m):p[m]);else for(u=h.call(p),o=new f;!(n=u.next()).done;m++)s(o,m,y?r(u,C,[n.value,m],!0):n.value);return o.length=m,o}})},f71f:function(e,t,o){var a=o("ec45")("meta"),n=o("fb68"),i=o("e042"),r=o("064e").f,c=0,d=Object.isExtensible||function(){return!0},s=!o("238a")((function(){return d(Object.preventExtensions({}))})),l=function(e){r(e,a,{value:{i:"O"+ ++c,w:{}}})},u=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,a)){if(!d(e))return"F";if(!t)return"E";l(e)}return e[a].i},p=function(e,t){if(!i(e,a)){if(!d(e))return!0;if(!t)return!1;l(e)}return e[a].w},f=function(e){return s&&v.NEED&&d(e)&&!i(e,a)&&l(e),e},v=e.exports={KEY:a,NEED:!1,fastKey:u,getWeak:p,onFreeze:f}},fea3:function(e,t,o){"use strict";var a=o("e7ad"),n=o("e46b"),i=o("bf16"),r=o("ef91"),c=o("f71f"),d=o("206c"),s=o("a73b"),l=o("fb68"),u=o("238a"),p=o("d0c5"),f=o("399f"),v=o("1e5b");e.exports=function(e,t,o,C,y,m){var h=a[e],b=h,g=y?"set":"add",_=b&&b.prototype,x={},w=function(e){var t=_[e];i(_,e,"delete"==e||"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,o){return t.call(this,0===e?0:e,o),this})};if("function"==typeof b&&(m||_.forEach&&!u((function(){(new b).entries().next()})))){var O=new b,M=O[g](m?{}:-0,1)!=O,k=u((function(){O.has(1)})),S=p((function(e){new b(e)})),L=!m&&u((function(){var e=new b,t=5;while(t--)e[g](t,t);return!e.has(-0)}));S||(b=t((function(t,o){s(t,b,e);var a=v(new h,t,b);return void 0!=o&&d(o,y,a[g],a),a})),b.prototype=_,_.constructor=b),(k||L)&&(w("delete"),w("has"),y&&w("get")),(L||M)&&w(g),m&&_.clear&&delete _.clear}else b=C.getConstructor(t,e,y,g),r(b.prototype,o),c.NEED=!0;return f(b,e),x[e]=b,n(n.G+n.W+n.F*(b!=h),x),m||C.setStrong(b,e,y),b}}}]);